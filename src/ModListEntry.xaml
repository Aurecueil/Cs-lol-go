<UserControl x:Class="ModManager.ModListEntry"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             Height="{DynamicResource ModListEntryHeight}" 
             MinWidth="300">

    <Border x:Name="EntryBorder" CornerRadius="6" Margin="{DynamicResource ModListEntryMargin}">
        <Grid>
            <Border x:Name="BGBorder" Background="#FF2A2A2A" CornerRadius="6" />
            <Border x:Name="BackgroundBorder" CornerRadius="6" ClipToBounds="True"/>

            <DockPanel x:Name="det_grid" 
                       Panel.ZIndex="10" 
                       Margin="5,0"
                       LastChildFill="True">

                <StackPanel x:Name="elements2" 
                            DockPanel.Dock="Right"
                            Orientation="Horizontal" 
                            VerticalAlignment="Bottom" 
                            Margin="5,0,0,0">

                    <ComboBox x:Name="ImportOverrideComboBox"
                              Panel.ZIndex="10" Width="120"
                              Style="{StaticResource StyledComboBox}"
                              SelectedIndex="0" Visibility="Collapsed" 
                              SelectionChanged="ShowSelectedLayerSetting"
                              Margin="0,0,5,0"/>

                    <Button x:Name="FixingIcon" Style="{StaticResource roundHighlight}"
                            ToolTip="Fixing" Cursor="Hand" Click="Fixer_settings_panel_open"
                            BorderThickness="0" Background="Transparent" Visibility="Collapsed">
                        <TextBlock Text="🔧" Style="{StaticResource IconTextBlockStyle}" 
                                   Foreground="White" FontSize="15" Padding="8" />
                    </Button>

                    <Button x:Name="ExportIcon" Style="{StaticResource roundHighlight}"
                            ToolTip="Export" Cursor="Hand" Click="Export_Item"
                            BorderThickness="0" Background="Transparent" Visibility="Collapsed">
                        <TextBlock Text="📄" Style="{StaticResource IconTextBlockStyle}" 
                                   Foreground="White" FontSize="15" Padding="8" />
                    </Button>

                    <Button x:Name="ModHandlingIcon" Style="{StaticResource roundHighlight}"
                            ToolTip="Mod Handling" Cursor="Hand" Click="Open_details_page"
                            BorderThickness="0" Background="Transparent">
                        <TextBlock Text="✏️" Style="{StaticResource IconTextBlockStyle}" 
                                   Foreground="White" FontSize="15" Padding="8" />
                    </Button>

                    <Button x:Name="DeleteIcon" Style="{StaticResource roundHighlight}"
                            ToolTip="Delete" Margin="0,0,0,0"
                            Cursor="Hand" Click="Delete_click_clicked"
                            BorderThickness="0" Background="Transparent">
                        <TextBlock Text="❌" Style="{StaticResource IconTextBlockStyle}" 
                                   Foreground="White" FontSize="15" Padding="8" />
                    </Button>
                </StackPanel>

                <DockPanel x:Name="elements1" 
                           DockPanel.Dock="Left"
                           LastChildFill="True" 
                           Margin="0,0,10,0"
                           VerticalAlignment="Center">

                    <CheckBox x:Name="ActiveCheckbox" 
                              Style="{StaticResource CustomCheckBoxStyle}" 
                              VerticalAlignment="Center" 
                              DockPanel.Dock="Left"
                              Margin="0,0,8,0"
                              Checked="ActiveCheckbox_Checked"
                              Unchecked="ActiveCheckbox_Unchecked"/>

                    <TextBlock x:Name="EntryName"
                               Foreground="White"
                               FontWeight="SemiBold"
                               FontSize="14"
                               HorizontalAlignment="Left"
                               VerticalAlignment="Center"
                               TextTrimming="CharacterEllipsis"
                               MaxWidth="250" 
                               Text="{Binding Name}"/>
                </DockPanel>

                

            </DockPanel>
            <StackPanel x:Name="elements3"
            VerticalAlignment="Center"
            HorizontalAlignment="Center"
            IsHitTestVisible="False">
                <TextBlock x:Name="DetailsText"
               Foreground="#CCCCCC"
               FontSize="12"
               TextAlignment="Center"
               TextWrapping="NoWrap"
               TextTrimming="CharacterEllipsis"
               Visibility="Visible"
               Text="Description text goes here"/>
            </StackPanel>
            <Border x:Name="StatusBorder" Panel.ZIndex="15" Background="Transparent" CornerRadius="6" Opacity="0.15" IsHitTestVisible="False"/>
            <Border x:Name="StatusBorderBorder" Panel.ZIndex="15" BorderBrush="Transparent" BorderThickness="2" CornerRadius="3" Opacity="0.8" IsHitTestVisible="False"/>

            <Border x:Name="FixerOverlay" Visibility="Collapsed" Panel.ZIndex="20" Background="#AA000000" CornerRadius="6">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                    <!-- Optional text -->
                    <TextBlock x:Name="block" Text="Fixer Running..." Foreground="White" FontWeight="Bold" FontSize="12" 
                   HorizontalAlignment="Center" Margin="0,5,0,0"/>
                </StackPanel>
            </Border>

        </Grid>
    </Border>
</UserControl>